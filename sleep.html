<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection" />
    <link type="text/css" rel="stylesheet" href="css/styles.css" />
    <!--Let browser know website is optimized for mobile-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VridhhaSeva</title>
</head>
<body>
<!-- NAVIGATION -->
<nav class="blue darken-2">
    <div class="container">
        <div class="nav-wrapper">
            <a class="navbar-brand" href="index.html" style="font-size: 25px;"><img src="./images/logo.png" style ="height: 70px; padding:8px; color: transparent;" alt=""> </a>
            <a href="#" data-activates="side-nav" class="button-collapse show-on-large right">
                <i class="material-icons">menu</i>
            </a>
            <ul class="right hide-on-med-and-down">
             <li >
                    <a href="index.html">Home</a>
                </li>
                <li class="active">
                    <a href="medical.php">Dashboard</a>
                </li>
            </ul>
            <!-- Side nav -->
            <ul id="side-nav" class="side-nav">
                <li>
                    <div class="user-view">
                        <div class="background">
                            <img src="./images/ocean.jpg" alt="">
                        </div>
                        <a href="#">
                            <img src="./images/old_person.jpeg" alt="" class="circle">
                        </a>
                        <a href="#">
                            <span class="name white-text">John Doe</span>
                        </a>
                        <a href="#">
                            <span class="email white-text">jdoe@gmail.com</span>
                        </a>
                    </div>
                </li>
                <li>
                    <a href="blood-pressure.html">
                        <i class="material-icons">list</i> Blood Pressure</a>
                </li>
                <li>
                    <a href="temperature.html">
                        <i class="fa fa-2x fa-thermometer-three-quarters"></i> Temperature</a>
                </li>
                <li>
                    <a href="heart-rate.html">
                        <i class="fa fa-2x fa-heartbeat"></i> Heart Rate</a>
                </li>
                <li>
                    <a href="medical.php">
                        <img src="./images/accident.png" class="mr-4"> Fall Detection</a>
                </li>
                <li>
                    <a href="sleep.html">
                        <i class="material-icons">people</i> Sleep Pattern</a>
                </li>
                <li>
                    <div class="divider"></div>
                </li>
                <li>
                    <a class="subheader">Account Controls</a>
                </li>
                <li>
                    <a href="#">
                        <i class="material-icons">settings</i> Settings</a>
                </li>
                <li>
                    <a href="login.html" class="waves-effect">
                        <i class="material-icons">power_settings_new</i> Logout</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- SECTION: STATS -->
<!-- <section class="section section-stats center">
    <div class="row">
        <div class="col s12 m6 l3">
            <div class="card-panel blue lighten-1 white-text center">
                <i class="material-icons medium">insert_emoticon</i>
                <h5>Monthly Visitors</h5>
                <h3 class="count">28300</h3>
                <div class="progress grey lighten-1">
                    <div class="determinate white" style="width: 40%;"></div>
                </div>
            </div>
        </div>
        <div class="col s12 m6 l3">
            <div class="card-panel center">
                <i class="material-icons medium">mode_edit</i>
                <h5>Blog Posts</h5>
                <h3 class="count">105</h3>
                <div class="progress grey lighten-1">
                    <div class="determinate blue lighten-1" style="width: 20%;"></div>
                </div>
            </div>
        </div>
        <div class="col s12 m6 l3">
            <div class="card-panel blue lighten-1 white-text center">
                <i class="material-icons medium">mode_comment</i>
                <h5>Comments</h5>
                <h3 class="count">1200</h3>
                <div class="progress grey lighten-1">
                    <div class="determinate white" style="width: 58%;"></div>
                </div>
            </div>
        </div>
        <div class="col s12 m6 l3">
            <div class="card-panel center">
                <i class="material-icons medium">supervisor_account</i>
                <h5>Users</h5>
                <h3 class="count">357</h3>
                <div class="progress grey lighten-1">
                    <div class="determinate blue lighten-1" style="width: 12%;"></div>
                </div>
            </div>
        </div>
    </div>
</section> -->



<!-- SECTION: VISITORS -->
<!--MAIN SLEEP PATTERN DETECTION SECTION-->
<section class="section section-visitors blue lighten-4">
    <div class="row">
        <!-- Chart -->
        <div class="col-md-9">
            
                <div id="chartContainer" style="width: 100%;"></div>
            
        </div>
        <!-- Latest Comments -->

        <div class="col-md-3">
            <ul class="collection with-header latest-comments">
                <li class="collection-header">
                    <h5>Vishandas Mehta</h5>
                </li>
                <li class="collection-item avatar">
                    <img src="./images/patient.jpg" alt="Vishandas Mehta" class="circle">
                    <span class="title">Average Sleep Time of Current</span>
                    <p id="avg-sleep"></p>
                    <!-- we use the truncate class when we want to show some of the words, not all words because comments can be pretty large -->
                    <div class="container">
                        <div class="progress">
                          <div class="progress-bar bg-success" style="width:40%;height:100%">
                            <b>8-9 hrs</b>
                          </div>
                          <div class="progress-bar bg-warning" style="width:40%;height:100%">
                            <b>10 ></b>
                          </div>
                        </div>
                      </div>
                </li>
            </ul>
            <ul class="collection with-header latest-comments">
                <li class="collection-header">
                    <h5>Details By Week</h5>
                    <h6>Select Month</h6>
                    <select name="" id="">
                        <option value="">Jan</option>
                        <option value="">Feb</option>
                        <option value="">Mar</option>
                        <option value="">Apr</option>
                        <option value="">May</option>
                        <option value="">Jun</option>
                        <option value="">Jul</option>
                        <option value="">Aug</option>
                        <option value="">Sep</option>
                        <option value="">Oct</option>
                        <option value="">Nov</option>
                        <option value="">Dec</option>
                    </select>
                </li>
                <li class="collection-item avatar">
                    <img src="./images/doc.png" alt="John Doe" class="circle">
                    <span class="title">Week 1</span>
                    <p class="sleep-grade blue-text">Good</p>
                </li>
                <li class="collection-item avatar">
                    <img src="./images/doc.png" alt="Vishandas Mehta" class="circle">
                    <span class="title">Week 2</span>
                    <p class="sleep-grade">Average</p>
                </li>
                <li class="collection-item avatar">
                    <img src="./images/doc.png" alt="John Doe" class="circle">
                    <span class="title">Week 3</span>
                    <p class="sleep-grade blue-text">Good</p>
                </li>
            </ul>
        </div>
    </div>
</section>
<!--END MAIN SLEEP PATTERN DETECTION SECTION-->

<!-- PRELOADER -->
<div class="loader preloader-wrapper big active">
    <div class="spinner-layer spinner-blue-only">
        <div class="circle-clipper left">
            <div class="circle"></div>
        </div>
        <div class="gap-patch">
            <div class="circle"></div>
        </div>
        <div class="circle-clipper right">
            <div class="circle"></div>
        </div>
    </div>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<!--Import jQuery before materialize.js-->
<script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
<script type="text/javascript" src="js/materialize.min.js"></script>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
<script src="https://cdn.ckeditor.com/4.9.2/standard/ckeditor.js"></script>
<script src="js/charts.js"></script>
<script src="js/chart.js"></script>
<script>
window.onload = function () {

var mychart = new CanvasJS.Chart("chartContainer", {
	animationEnabled: true,
	theme: "light2",
	title: {
		text: "Weekly Sleep Data"
	},
	axisX: {
		valueFormatString: "DDDD"
	},
	axisY: {
		
		labelFormatter: addSymbols
	},
	toolTip: {
		shared: true
	},
	legend: {
		cursor: "pointer",
		itemclick: toggleDataSeries
	},
	data: [
	{
		type: "column",
		name: "Hours Slept",
		showInLegend: true,
		xValueFormatString: " DDDD ",
		yValueFormatString: "#,##0",
		dataPoints: [
			{ x: new Date(2016, 0,1), y: 8},
			{ x: new Date(2016, 0,2), y: 9 },
			{ x: new Date(2016, 0,3), y: 10 },
			{ x: new Date(2016, 0,4), y: 9, indexLabel: "" },
			{ x: new Date(2016, 0,5), y: 9 },
			{ x: new Date(2016, 0,6), y: 11 }
			
		]
	}, 
	{
		type: "line",
		name: "Times woke up",
		showInLegend: true,
		yValueFormatString: "#,##0",
		dataPoints: [
			{ x: new Date(2016, 0,1),y:2 },
			{ x: new Date(2016, 0,2), y: 1 },
			{ x: new Date(2016, 0,3),y: 1 },
			{ x: new Date(2016, 0,4), y: 0 },
			{ x: new Date(2016, 0,5), y: 2 },
			{ x: new Date(2016, 0,6), y: 1 },
			{ x: new Date(2016, 0,7), y: 3 }
			
		]
	},
	{
		type: "area",
		name: "Deep sleep ",
		markerBorderColor: "white",
		markerBorderThickness: 2,
		showInLegend: true,
		yValueFormatString: "#,##0",
		dataPoints: [
			{ x: new Date(2016, 0,1), y: 7 },
			{ x: new Date(2016, 0,2), y: 6 },
			{ x: new Date(2016, 0,3), y: 7},
			{ x: new Date(2016, 0,4), y: 7},
			{ x: new Date(2016, 0,5), y: 5},
			{ x: new Date(2016, 0,6), y: 6 },
			{ x: new Date(2016, 0,7), y: 8 }
			
		]
	}]
});
mychart.render();

function addSymbols(e) {
	var suffixes = ["", "K", "M", "B"];
	var order = Math.max(Math.floor(Math.log(e.value) / Math.log(1000)), 0);

	if(order > suffixes.length - 1)                	
		order = suffixes.length - 1;

	var suffix = suffixes[order];      
	return CanvasJS.formatNumber(e.value / Math.pow(1000, order)) + suffix;
}

function toggleDataSeries(e) {
	if (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
		e.dataSeries.visible = false;
	} else {
		e.dataSeries.visible = true;
	}
	e.mychart.render();
}

}
</script>
<script>
    // Custom JS & jQuery here
    // HIDE SECTIONS
    $('section').hide();
    $('footer').hide();
    $('.fixed-action-btn').hide();
    // hiding all the sections initially so we can show the preloader
    setTimeout(function () {
        $(document).ready(function () {
            // SHOW SECTIONS
            $('section').fadeIn();
            $('footer').fadeIn();
            $('.fixed-action-btn').fadeIn();
            // HIDE PRELOADER
            $('.loader').fadeOut();
            // SIDENAV INIT
            $('.button-collapse').sideNav();
            // MODAL INIT
            $('.modal').modal();
            // SELECT INIT
            $('select').material_select();
            // COUNTER
            $('.count').each(function () {
                $(this).prop('Counter', 0).animate({
                    Counter: $(this).text()
                    // $(this).text() takes the number, so whatever in this text is
                }, {
                    duration: 1000,
                    // in 1s goes from 0 to the number
                    easing: 'swing',
                    step: function (now) {
                        $(this).text(Math.ceil(now));
                    }
                });
            });
            // COMMENTS - APPROVE & DENY
            $('.approve').click(function (e) {
                Materialize.toast('Comment Approved', 3000);
                e.preventDefault();
                // it's a link so we want to stop the default behaviour
            });
            $('.deny').click(function (e) {
                Materialize.toast('Comment Denied', 3000);
                e.preventDefault();
                // it's a link so we want to stop the default behaviour
            });
        });
        // QUICK TODOS
        $('#todo-form').submit(function (e) {
            // console.log($('#todo').val());
            const output = `
      <li class="collection-item">
        <div>${$('#todo').val()}
          <a href="#" class="secondary-content delete">
            <i class="material-icons">close</i>
          </a>
        </div>
      </li>
    `;
            // in the output variable we're storing what the user has entered in the input filed
            $('.todos').append(output);
            // appending to our todo list so it shows in the UI
            $('#todo').val('');
            // clear input field
            Materialize.toast('Todo Added', 3000);
            // show a notification that the todo has been added
            e.preventDefault();
            // we want to prevent the form from actually submiting
        });
        // DELETE TODOS
        $('.todos').on('click', '.delete', function (e) {
            // $(this).parent().parent().remove();
            $(this).parent().parent().animate().fadeOut();
            // event delegation
            Materialize.toast('Todo Removed', 3000);
            // show a notification that the todo has been deleted
            e.preventDefault();
        });
        // FOR THE CKEDITOR
        CKEDITOR.replace('body');
    }, 1000);
    // PRELOADER
    /********************************************************************************/
    //CHARTS
    /********************************************************************************/
    var data =  [9, 8, 9, 8, 7, 10, 11];
    var sum = 0;
    for(var i=0; i<data.length; i++){
        sum += data[i];
    }
    var avg = parseInt(sum/data.length);
    $('p#avg-sleep').html(avg + " Hours");
   /********************************************************************************/
    //END OF CHARTS
    /********************************************************************************/
</script>
</body>

</html>